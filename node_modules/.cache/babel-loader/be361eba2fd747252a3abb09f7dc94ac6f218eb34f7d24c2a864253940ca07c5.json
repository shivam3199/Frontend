{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shuiv/Desktop/SWEAT-BUDDY/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shuiv/Desktop/SWEAT-BUDDY/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shuiv/Desktop/SWEAT-BUDDY/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useWorkoutsContext}from'../hooks/useWorkoutsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkoutForm=function WorkoutForm(){var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),load=_useState4[0],setLoad=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),reps=_useState6[0],setReps=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),emptyFields=_useState10[0],setEmptyFields=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var workout,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();workout={title:title,load:load,reps:reps};_context.next=4;return fetch('/api/workouts',{method:'POST',body:JSON.stringify(workout),headers:{'Content-Type':'application/json'}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(!response.ok){setError(json.error);setEmptyFields(json.emptyFields);}if(response.ok){setEmptyFields([]);setError(null);setTitle('');setLoad('');setReps('');dispatch({type:'CREATE_WORKOUT',payload:json});}case 10:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"create\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add a New Workout\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Excercise Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setTitle(e.target.value);},value:title,className:emptyFields.includes('title')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Load (in kg):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setLoad(e.target.value);},value:load,className:emptyFields.includes('load')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Number of Reps:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setReps(e.target.value);},value:reps,className:emptyFields.includes('reps')?'error':''}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Workout\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})]});};export default WorkoutForm;","map":{"version":3,"names":["useState","useWorkoutsContext","jsx","_jsx","jsxs","_jsxs","WorkoutForm","_useWorkoutsContext","dispatch","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","load","setLoad","_useState5","_useState6","reps","setReps","_useState7","_useState8","error","setError","_useState9","_useState10","emptyFields","setEmptyFields","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","workout","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","body","JSON","stringify","headers","sent","ok","type","payload","stop","_x","apply","arguments","className","onSubmit","children","onChange","target","value","includes"],"sources":["C:/Users/shuiv/Desktop/SWEAT-BUDDY/frontend/src/components/WorkoutForm.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useWorkoutsContext } from '../hooks/useWorkoutsContext'\r\n\r\nconst WorkoutForm = () => {\r\n  const { dispatch } = useWorkoutsContext()\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [load, setLoad] = useState('')\r\n  const [reps, setReps] = useState('')\r\n  const [error, setError] = useState(null)\r\n  const [emptyFields, setEmptyFields] = useState([])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    const workout = {title, load, reps}\r\n    \r\n    const response = await fetch('/api/workouts', {\r\n      method: 'POST',\r\n      body: JSON.stringify(workout),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    const json = await response.json()\r\n\r\n    if (!response.ok) {\r\n      setError(json.error)\r\n      setEmptyFields(json.emptyFields)\r\n    }\r\n    if (response.ok) {\r\n      setEmptyFields([])\r\n      setError(null)\r\n      setTitle('')\r\n      setLoad('')\r\n      setReps('')\r\n      dispatch({type: 'CREATE_WORKOUT', payload: json})\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <form className=\"create\" onSubmit={handleSubmit}> \r\n      <h3>Add a New Workout</h3>\r\n\r\n      <label>Excercise Title:</label>\r\n      <input \r\n        type=\"text\" \r\n        onChange={(e) => setTitle(e.target.value)} \r\n        value={title}\r\n        className={emptyFields.includes('title') ? 'error' : ''}\r\n      />\r\n\r\n      <label>Load (in kg):</label>\r\n      <input \r\n        type=\"number\" \r\n        onChange={(e) => setLoad(e.target.value)} \r\n        value={load}\r\n        className={emptyFields.includes('load') ? 'error' : ''}\r\n      />\r\n\r\n      <label>Number of Reps:</label>\r\n      <input \r\n        type=\"number\" \r\n        onChange={(e) => setReps(e.target.value)} \r\n        value={reps}\r\n        className={emptyFields.includes('reps') ? 'error' : ''}\r\n      />\r\n\r\n      <button>Add Workout</button>\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default WorkoutForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}